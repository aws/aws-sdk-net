// ------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version: 17.0.0.0
//  
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
// ------------------------------------------------------------------------------
namespace ServiceClientGenerator.Generators.Marshallers
{
    using System.Linq;
    using System.Text;
    using System.Collections.Generic;
    using Json.LitJson;
    using System;
    
    /// <summary>
    /// Class to produce the template output
    /// </summary>
    
    #line 1 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("Microsoft.VisualStudio.TextTemplating", "17.0.0.0")]
    public partial class RestXmlRequestMarshaller : BaseRequestMarshaller
    {
#line hidden
        /// <summary>
        /// Create the template output
        /// </summary>
        public override string TransformText()
        {
            
            #line 7 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

	AddLicenseHeader();
	
	AddCommonUsingStatements();

            
            #line default
            #line hidden
            this.Write("using System.Xml;\r\n\r\n#pragma warning disable CS0612,CS0618\r\nnamespace ");
            
            #line 15 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(this.Config.Namespace));
            
            #line default
            #line hidden
            this.Write(".Model.Internal.MarshallTransformations\r\n{\r\n\t/// <summary>\r\n\t/// ");
            
            #line 18 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(this.Operation.Name));
            
            #line default
            #line hidden
            this.Write(" Request Marshaller\r\n\t/// </summary>       \r\n\tpublic class ");
            
            #line 20 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(this.Operation.Name));
            
            #line default
            #line hidden
            this.Write("RequestMarshaller : IMarshaller<IRequest, ");
            
            #line 20 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(this.Operation.Name));
            
            #line default
            #line hidden
            this.Write(@"Request> , IMarshaller<IRequest,AmazonWebServiceRequest>
	{
        /// <summary>
        /// Marshaller the request object to the HTTP request.
        /// </summary>  
        /// <param name=""input""></param>
        /// <returns></returns>
		public IRequest Marshall(AmazonWebServiceRequest input)
        {
            return this.Marshall((");
            
            #line 29 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(this.Operation.Name));
            
            #line default
            #line hidden
            this.Write("Request)input);\r\n        }\r\n\r\n        /// <summary>\r\n        /// Marshaller the r" +
                    "equest object to the HTTP request.\r\n        /// </summary>  \r\n        /// <param" +
                    " name=\"publicRequest\"></param>\r\n        /// <returns></returns>\r\n\t\tpublic IReque" +
                    "st Marshall(");
            
            #line 37 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(this.Operation.Name));
            
            #line default
            #line hidden
            this.Write("Request publicRequest)\r\n\t\t{\r\n\t\t\tvar request = new DefaultRequest(publicRequest, \"" +
                    "");
            
            #line 39 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(this.Config.Namespace));
            
            #line default
            #line hidden
            this.Write("\");\r\n");
            
            #line 40 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

	if ((this.Config.ServiceModel.H2Support == H2SupportDegree.Optional && this.Operation.IsEventStreamBidi) || (this.Config.ServiceModel.H2Support == H2SupportDegree.EventStream && this.Operation.IsEventStreamOutput) || this.Config.ServiceModel.H2Support == H2SupportDegree.Required)
	{

            
            #line default
            #line hidden
            this.Write("#if NET8_0_OR_GREATER\r\n            request.HttpProtocolVersion = System.Net.HttpV" +
                    "ersion.Version20;\r\n#endif\r\n");
            
            #line 47 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

	}

	// Assign HttpMethod if present or default to POST
	if(!string.IsNullOrWhiteSpace(this.Operation.HttpMethod)){		

            
            #line default
            #line hidden
            this.Write("\t\t\trequest.HttpMethod = \"");
            
            #line 53 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(this.Operation.HttpMethod));
            
            #line default
            #line hidden
            this.Write("\";\r\n");
            
            #line 54 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

	}
	var requestStructure = this.Operation.RequestStructure;
    var payload = this.Operation.RequestPayloadMember;

	SetCompressionAlgorithmEncoding(this.Operation);

    var shouldMarshallPayload = (payload != null && payload.IsStructure);

    // This block adds members of the request object to the actual request
	ProcessRequestUri(this.Operation);	
	ProcessHeaderMembers("publicRequest", this.Operation.RequestHeaderMembers);		
	ProcessUriMembers("publicRequest", this.Operation);	
	ProcessQueryStringMembers("publicRequest", this.Operation);

            
            #line default
            #line hidden
            this.Write("\t\t\trequest.ResourcePath = \"");
            
            #line 69 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(this.Operation.RequestUri));
            
            #line default
            #line hidden
            this.Write("\";\r\n\r\n");
            
            #line 71 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
   
	// Process any members which are marshalled as part of the request body
	if(this.Operation.RequestHasBodyMembers || shouldMarshallPayload)
	{
		ProcessRequestBodyMembers("publicRequest", this.Operation);		
	}
	else if(payload != null && !payload.Shape.IsStructure)
	{
		ProcessNonStructurePayload(payload, 3);
	}

            
            #line default
            #line hidden
            this.Write("\r\n");
            
            #line 83 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

	if (this.Operation.UnsignedPayload)
	{

            
            #line default
            #line hidden
            this.Write("\t\t\trequest.DisablePayloadSigning = true;\r\n");
            
            #line 88 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
	}

	// If there aren't any members that are marshalled as part of the body or streamed	
	if(this.Operation.UseQueryString)
	{

            
            #line default
            #line hidden
            this.Write("\t\t\trequest.UseQueryString = true;\r\n");
            
            #line 95 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
	}	

	// We skip endpoint host prefix handling for S3 and S3 Control as it's implemented by endpoint rules.
	if(!string.IsNullOrEmpty(this.Operation.EndpointHostPrefix) && this.Config.ServiceId != "S3" && this.Config.ServiceId != "S3 Control")
	{
		ProcessEndpointHostPrefixMembers(3, "publicRequest", this.Operation);
	}

            
            #line default
            #line hidden
            this.Write("\t\t\treturn request;\r\n\t\t}\r\n");
            
            #line 105 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
				
	this.AddRequestSingletonMethod();

            
            #line default
            #line hidden
            this.Write("\t}\t\r\n}\r\n\r\n");
            return this.GenerationEnvironment.ToString();
        }
        
        #line 111 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"


	void ProcessRequestBodyMembers(string variableName, Operation operation)
	{
		var level = 0;

        
        #line default
        #line hidden
        
        #line 116 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(@"			var stringWriter = new XMLEncodedStringWriter(CultureInfo.InvariantCulture);
			using (var xmlWriter = XmlWriter.Create(stringWriter, new XmlWriterSettings() { Encoding = System.Text.Encoding.UTF8, OmitXmlDeclaration = true, NewLineHandling = NewLineHandling.Entitize }))
			{   
");

        
        #line default
        #line hidden
        
        #line 120 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		if(operation.RequestPayloadMember==null)
		{
			if(string.IsNullOrEmpty(operation.XmlNamespacePrefix))
			{

        
        #line default
        #line hidden
        
        #line 125 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 126 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.RequestStructure.MarshallName));

        
        #line default
        #line hidden
        
        #line 126 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", \"");

        
        #line default
        #line hidden
        
        #line 126 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.XmlNamespace));

        
        #line default
        #line hidden
        
        #line 126 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 127 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
			else
			{

        
        #line default
        #line hidden
        
        #line 131 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 132 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.RequestStructure.MarshallName));

        
        #line default
        #line hidden
        
        #line 132 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n\t\t\t\txmlWriter.WriteAttributeString(\"xmlns\", \"");

        
        #line default
        #line hidden
        
        #line 133 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.XmlNamespacePrefix));

        
        #line default
        #line hidden
        
        #line 133 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", null, \"");

        
        #line default
        #line hidden
        
        #line 133 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.XmlNamespace));

        
        #line default
        #line hidden
        
        #line 133 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 134 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
			var requestStructureAttributes = operation.RequestStructure.Members.Where(x => x.IsXmlAttribute);
			foreach(var member in requestStructureAttributes)
			{

        
        #line default
        #line hidden
        
        #line 139 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\tif(");

        
        #line default
        #line hidden
        
        #line 140 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName + ".IsSet" + member.PropertyName));

        
        #line default
        #line hidden
        
        #line 140 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("())\r\n");

        
        #line default
        #line hidden
        
        #line 141 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

WriteXmlAttributeString(level, member, variableName, isPayload: false);

        
        #line default
        #line hidden
        
        #line 144 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
		}
		else
		{
			if(string.IsNullOrEmpty(operation.XmlNamespace))
			{

        
        #line default
        #line hidden
        
        #line 151 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\tif (");

        
        #line default
        #line hidden
        
        #line 152 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName + ".IsSet" + operation.RequestPayloadMember.PropertyName));

        
        #line default
        #line hidden
        
        #line 152 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("())\r\n\t\t\t\t{\r\n\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 154 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.RequestPayloadMember.LocationName != operation.RequestStructure.PayloadMemberName ? operation.RequestPayloadMember.LocationName : operation.RequestPayloadMember.Shape.MarshallName));

        
        #line default
        #line hidden
        
        #line 154 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", \"");

        
        #line default
        #line hidden
        
        #line 154 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.XmlNamespace));

        
        #line default
        #line hidden
        
        #line 154 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 155 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
			else
			{
				if(string.IsNullOrEmpty(operation.XmlNamespacePrefix))
				{

        
        #line default
        #line hidden
        
        #line 161 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\tif (");

        
        #line default
        #line hidden
        
        #line 162 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName + ".IsSet" + operation.RequestPayloadMember.PropertyName));

        
        #line default
        #line hidden
        
        #line 162 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("())\r\n\t\t\t\t{\r\n\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 164 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.RequestPayloadMember.LocationName != operation.RequestStructure.PayloadMemberName ? operation.RequestPayloadMember.LocationName : operation.RequestPayloadMember.Shape.MarshallName));

        
        #line default
        #line hidden
        
        #line 164 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", \"");

        
        #line default
        #line hidden
        
        #line 164 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.XmlNamespace));

        
        #line default
        #line hidden
        
        #line 164 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 165 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

				}
				else
				{

        
        #line default
        #line hidden
        
        #line 169 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\tif (");

        
        #line default
        #line hidden
        
        #line 170 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName + ".IsSet" + operation.RequestPayloadMember.PropertyName));

        
        #line default
        #line hidden
        
        #line 170 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("())\r\n\t\t\t\t{\r\n\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 172 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.RequestPayloadMember.LocationName != operation.RequestStructure.PayloadMemberName ? operation.RequestPayloadMember.LocationName : operation.RequestPayloadMember.Shape.MarshallName));

        
        #line default
        #line hidden
        
        #line 172 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n\t\t\t\t\txmlWriter.WriteAttributeString(\"xmlns\",\"");

        
        #line default
        #line hidden
        
        #line 173 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.XmlNamespacePrefix));

        
        #line default
        #line hidden
        
        #line 173 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",null,\"");

        
        #line default
        #line hidden
        
        #line 173 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.XmlNamespace));

        
        #line default
        #line hidden
        
        #line 173 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 174 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

				}

        
        #line default
        #line hidden
        
        #line 177 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
			var requestPayloadAttributes = operation.RequestPayloadMember.Shape.Members.Where(x => x.IsXmlAttribute);
			foreach(var member in requestPayloadAttributes)
			{

        
        #line default
        #line hidden
        
        #line 182 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\tif(");

        
        #line default
        #line hidden
        
        #line 183 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName + "." + operation.RequestPayloadMember.PropertyName + ".IsSet" + member.PropertyName));

        
        #line default
        #line hidden
        
        #line 183 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("())\r\n");

        
        #line default
        #line hidden
        
        #line 184 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

WriteXmlAttributeString(level + 1, member, variableName, isPayload: true, operation);

        
        #line default
        #line hidden
        
        #line 187 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
			level++;
		}
		var childmembers = operation.RequestPayloadMember == null ? operation.RequestBodyMembers.Where(x => !x.IsXmlAttribute) : operation.RequestPayloadMember.Shape.Members.Where(x => !x.IsXmlAttribute);
		variableName = operation.RequestPayloadMember == null ? variableName : variableName + "." + operation.RequestPayloadMember.PropertyName;
		foreach(var member in childmembers)
		{			
			if(member.IsStructure)
			{
				ProcessStructure(level, variableName, member);				
			}
			else if(member.IsList)
			{
				ProcessList(level, variableName, member);
			}
			else if(member.IsMap)
			{

        
        #line default
        #line hidden
        
        #line 206 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', (level + 4) * 4)));

        
        #line default
        #line hidden
        
        #line 206 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("if(");

        
        #line default
        #line hidden
        
        #line 206 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 206 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".IsSet");

        
        #line default
        #line hidden
        
        #line 206 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PropertyName));

        
        #line default
        #line hidden
        
        #line 206 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("())\r\n");

        
        #line default
        #line hidden
        
        #line 207 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', (level + 4) * 4)));

        
        #line default
        #line hidden
        
        #line 207 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("{\r\n");

        
        #line default
        #line hidden
        
        #line 208 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

				if(member.IsFlattened)
				{
					ProcessFlattenedMap(level,variableName,member);
				}
				else
				{
					ProcessMap(level, variableName, member);
				}

        
        #line default
        #line hidden
        
        #line 218 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', (level + 4) * 4)));

        
        #line default
        #line hidden
        
        #line 218 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("}\r\n");

        
        #line default
        #line hidden
        
        #line 219 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
			else
			{

        
        #line default
        #line hidden
        
        #line 224 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 224 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\tif(");

        
        #line default
        #line hidden
        
        #line 224 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 224 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".IsSet");

        
        #line default
        #line hidden
        
        #line 224 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PropertyName));

        
        #line default
        #line hidden
        
        #line 224 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("())\r\n");

        
        #line default
        #line hidden
        
        #line 225 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

				if(string.IsNullOrEmpty(member.XmlNamespace))
				{

        
        #line default
        #line hidden
        
        #line 229 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 229 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 229 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.MarshallName));

        
        #line default
        #line hidden
        
        #line 229 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", ");

        
        #line default
        #line hidden
        
        #line 229 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PrimitiveMarshaller));

        
        #line default
        #line hidden
        
        #line 229 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("(");

        
        #line default
        #line hidden
        
        #line 229 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 229 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 229 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PropertyName));

        
        #line default
        #line hidden
        
        #line 229 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture((member.IsNullable ? ".Value" : string.Empty)));

        
        #line default
        #line hidden
        
        #line 229 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("));\r\n");

        
        #line default
        #line hidden
        
        #line 230 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

				}
				else
				{
					string prefix = member.XmlNamespacePrefix != null ? $"{member.XmlNamespacePrefix}" : null;

        
        #line default
        #line hidden
        
        #line 236 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 236 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteElementString(");

        
        #line default
        #line hidden
        
        #line 236 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(prefix));

        
        #line default
        #line hidden
        
        #line 236 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(",\"");

        
        #line default
        #line hidden
        
        #line 236 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.MarshallName));

        
        #line default
        #line hidden
        
        #line 236 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",\"");

        
        #line default
        #line hidden
        
        #line 236 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.XmlNamespace));

        
        #line default
        #line hidden
        
        #line 236 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", ");

        
        #line default
        #line hidden
        
        #line 236 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PrimitiveMarshaller));

        
        #line default
        #line hidden
        
        #line 236 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("(");

        
        #line default
        #line hidden
        
        #line 236 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 236 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 236 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PropertyName));

        
        #line default
        #line hidden
        
        #line 236 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture((member.IsNullable ? ".Value" : string.Empty)));

        
        #line default
        #line hidden
        
        #line 236 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("));\r\n");

        
        #line default
        #line hidden
        
        #line 237 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

				}
				if(member.IsIdempotent)
				{

        
        #line default
        #line hidden
        
        #line 241 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\telse\t\t\t\t\r\n");

        
        #line default
        #line hidden
        
        #line 243 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 243 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 243 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.MarshallName));

        
        #line default
        #line hidden
        
        #line 243 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", Guid.NewGuid().ToString());\t\t\t\t\r\n");

        
        #line default
        #line hidden
        
        #line 244 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
					
				}

        
        #line default
        #line hidden
        
        #line 247 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(""));

        
        #line default
        #line hidden
        
        #line 247 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\r\n");

        
        #line default
        #line hidden
        
        #line 248 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
			
		}  

        
        #line default
        #line hidden
        
        #line 252 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\r\n");

        
        #line default
        #line hidden
        
        #line 254 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 254 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\txmlWriter.WriteEndElement();\r\n");

        
        #line default
        #line hidden
        
        #line 255 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		if(operation.RequestPayloadMember!=null)
		{

        
        #line default
        #line hidden
        
        #line 259 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 259 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t}\r\n");

        
        #line default
        #line hidden
        
        #line 260 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			level--;
		}

        
        #line default
        #line hidden
        
        #line 263 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t}\r\n\t\t\ttry \r\n\t\t\t{\r\n\t\t\t\tstring content = stringWriter.ToString();\r\n\t\t\t\trequest.C" +
        "ontent = System.Text.Encoding.UTF8.GetBytes(content);\r\n\t\t\t\trequest.Headers[\"Cont" +
        "ent-Type\"] = \"application/xml\";\r\n");

        
        #line default
        #line hidden
        
        #line 270 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

					GenerateRequestChecksumHandling(operation, "content");

        
        #line default
        #line hidden
        
        #line 272 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t            request.Headers[Amazon.Util.HeaderKeys.XAmzApiVersion] = \"");

        
        #line default
        #line hidden
        
        #line 273 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(this.Config.ServiceModel.APIVersion));

        
        #line default
        #line hidden
        
        #line 273 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\";            \r\n\t\t\t} \r\n\t\t\tcatch (EncoderFallbackException e) \r\n\t\t\t{\r\n\t\t\t\tthrow ne" +
        "w AmazonServiceException(\"Unable to marshall request to XML\", e);\r\n\t\t\t}\r\n");

        
        #line default
        #line hidden
        
        #line 279 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
				       
	}

	void ProcessMembers(int level, string variableName, IEnumerable<Member> members, bool insideMap = false)
	{
		foreach(var member in members)
		{
			if(member.IsStructure)
			{
				ProcessStructure(level, variableName, member);
			}
			else if(member.IsList)
			{
				ProcessList(level, variableName, member);
			}
			else if(member.IsMap)
			{

        
        #line default
        #line hidden
        
        #line 297 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', (level + 4) * 4)));

        
        #line default
        #line hidden
        
        #line 297 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("if (");

        
        #line default
        #line hidden
        
        #line 297 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 297 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".IsSet");

        
        #line default
        #line hidden
        
        #line 297 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PropertyName));

        
        #line default
        #line hidden
        
        #line 297 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("())\r\n");

        
        #line default
        #line hidden
        
        #line 298 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', (level + 4) * 4)));

        
        #line default
        #line hidden
        
        #line 298 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("{\r\n");

        
        #line default
        #line hidden
        
        #line 299 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

				if(member.IsFlattened)
				{
					ProcessFlattenedMap(level,variableName,member);
				}
				else
				{
					ProcessMap(level, variableName, member);
				}

        
        #line default
        #line hidden
        
        #line 309 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', (level + 4) * 4)));

        
        #line default
        #line hidden
        
        #line 309 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("}\r\n");

        
        #line default
        #line hidden
        
        #line 310 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
			// we're processing members of a structure as a map's value
			else if(insideMap)
			{

        
        #line default
        #line hidden
        
        #line 316 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 316 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\tif(");

        
        #line default
        #line hidden
        
        #line 316 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 316 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".IsSet");

        
        #line default
        #line hidden
        
        #line 316 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PropertyName));

        
        #line default
        #line hidden
        
        #line 316 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("())\r\n");

        
        #line default
        #line hidden
        
        #line 317 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 317 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 317 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.ModeledName));

        
        #line default
        #line hidden
        
        #line 317 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", ");

        
        #line default
        #line hidden
        
        #line 317 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PrimitiveMarshaller));

        
        #line default
        #line hidden
        
        #line 317 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("(");

        
        #line default
        #line hidden
        
        #line 317 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 317 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 317 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PropertyName));

        
        #line default
        #line hidden
        
        #line 317 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture((member.IsNullable ? ".Value" : string.Empty)));

        
        #line default
        #line hidden
        
        #line 317 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("));\r\n");

        
        #line default
        #line hidden
        
        #line 318 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
			else
			{

        
        #line default
        #line hidden
        
        #line 323 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 323 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\tif(");

        
        #line default
        #line hidden
        
        #line 323 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 323 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".IsSet");

        
        #line default
        #line hidden
        
        #line 323 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PropertyName));

        
        #line default
        #line hidden
        
        #line 323 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("())\r\n");

        
        #line default
        #line hidden
        
        #line 324 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

				if (!member.IsXmlAttribute)
				{

        
        #line default
        #line hidden
        
        #line 328 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 328 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 328 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.MarshallName));

        
        #line default
        #line hidden
        
        #line 328 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", ");

        
        #line default
        #line hidden
        
        #line 328 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PrimitiveMarshaller));

        
        #line default
        #line hidden
        
        #line 328 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("(");

        
        #line default
        #line hidden
        
        #line 328 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 328 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 328 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PropertyName));

        
        #line default
        #line hidden
        
        #line 328 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture((member.IsNullable ? ".Value" : string.Empty)));

        
        #line default
        #line hidden
        
        #line 328 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("));\r\n");

        
        #line default
        #line hidden
        
        #line 329 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

				}

        
        #line default
        #line hidden
        
        #line 332 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

				else
				{
					WriteXmlAttributeString(level, member, variableName, false);
				}
			}
		}
	}

	void ProcessStructure(int level, string variableName, Shape shape)
	{
			// Use shape's ListMarshallName if the structure is a list.
			var marshallName = shape.IsList ? shape.ListMarshallName ?? "member" : shape.MarshallName;

        
        #line default
        #line hidden
        
        #line 345 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\r\n");

        
        #line default
        #line hidden
        
        #line 346 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 346 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\tif (");

        
        #line default
        #line hidden
        
        #line 346 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 346 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(" != null) \r\n");

        
        #line default
        #line hidden
        
        #line 347 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 347 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t{\r\n");

        
        #line default
        #line hidden
        
        #line 348 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			if(string.IsNullOrEmpty(shape.XmlNamespace))
			{

        
        #line default
        #line hidden
        
        #line 352 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 352 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 352 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(marshallName));

        
        #line default
        #line hidden
        
        #line 352 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 353 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
			
			}
			else
			{
				if(string.IsNullOrEmpty(shape.XmlNamespacePrefix))
				{

        
        #line default
        #line hidden
        
        #line 360 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 360 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 360 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(marshallName));

        
        #line default
        #line hidden
        
        #line 360 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", \"");

        
        #line default
        #line hidden
        
        #line 360 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(shape.XmlNamespace));

        
        #line default
        #line hidden
        
        #line 360 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 361 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

				}
				else
				{

        
        #line default
        #line hidden
        
        #line 366 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 366 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 366 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(marshallName));

        
        #line default
        #line hidden
        
        #line 366 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 367 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 367 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteAttributeString(\"xmlns\", \"");

        
        #line default
        #line hidden
        
        #line 367 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(marshallName));

        
        #line default
        #line hidden
        
        #line 367 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",");

        
        #line default
        #line hidden
        
        #line 367 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(shape.XmlNamespace));

        
        #line default
        #line hidden
        
        #line 367 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(", null );\r\n");

        
        #line default
        #line hidden
        
        #line 368 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

				}
			}
			ProcessMembers(level + 1, variableName, shape.Members);			

        
        #line default
        #line hidden
        
        #line 373 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 373 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteEndElement();\r\n");

        
        #line default
        #line hidden
        
        #line 374 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 374 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t}\r\n");

        
        #line default
        #line hidden
        
        #line 375 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
		
	}
// Only namespaces at the top level Shape matter for a structure, so there is no logic for namespaces here.
	void ProcessStructure(int level, string variableName, Member member)
	{
			var shape = member.Shape.IsList ?  member.Shape.ListShape : member.Shape ;
			variableName = member.Shape.IsList ? variableName : variableName + "." + member.PropertyName;

			// Use shape's ListMarshallName if the structure is a list.
			var marshallName = member.Shape.IsList ? member.Shape.ListMarshallName ?? "member" : member.MarshallName;
			if(member.IsFlattened)
				marshallName =  member.LocationName ?? member.ModeledName;

        
        #line default
        #line hidden
        
        #line 388 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 388 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\tif (");

        
        #line default
        #line hidden
        
        #line 388 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 388 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(" != null)\r\n");

        
        #line default
        #line hidden
        
        #line 389 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 389 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t{\r\n");

        
        #line default
        #line hidden
        
        #line 390 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 390 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 390 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(marshallName));

        
        #line default
        #line hidden
        
        #line 390 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 391 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"


        
        #line default
        #line hidden
        
        #line 393 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			ProcessMembers(level + 1, variableName, shape.Members);

        
        #line default
        #line hidden
        
        #line 396 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 396 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteEndElement();\r\n");

        
        #line default
        #line hidden
        
        #line 397 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 397 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t}\r\n");

        
        #line default
        #line hidden
        
        #line 398 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
		
	}
	void ProcessList(int level, string variableName, Member member)
	{
				var listVariable = (variableName + member.PropertyName).Replace(".",string.Empty);
				var listItemVariable = (variableName + member.PropertyName).Replace(".",string.Empty) + "Value";

        
        #line default
        #line hidden
        
        #line 405 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 405 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\tvar ");

        
        #line default
        #line hidden
        
        #line 405 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listVariable));

        
        #line default
        #line hidden
        
        #line 405 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(" = ");

        
        #line default
        #line hidden
        
        #line 405 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 405 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 405 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PropertyName));

        
        #line default
        #line hidden
        
        #line 405 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(";\r\n");

        
        #line default
        #line hidden
        
        #line 406 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 406 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\tif (");

        
        #line default
        #line hidden
        
        #line 406 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listVariable));

        
        #line default
        #line hidden
        
        #line 406 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(" != null && (");

        
        #line default
        #line hidden
        
        #line 406 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listVariable));

        
        #line default
        #line hidden
        
        #line 406 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".Count > 0 || !AWSConfigs.InitializeCollections)) \r\n");

        
        #line default
        #line hidden
        
        #line 407 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 407 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t{\r\n");

        
        #line default
        #line hidden
        
        #line 408 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

				if (!member.IsFlattened)
				{
					if (string.IsNullOrEmpty(member.XmlNamespace))
					{

        
        #line default
        #line hidden
        
        #line 414 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 414 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 414 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.MarshallName));

        
        #line default
        #line hidden
        
        #line 414 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 415 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

					}
					else
					{
						if (string.IsNullOrEmpty(member.XmlNamespacePrefix))
						{

        
        #line default
        #line hidden
        
        #line 422 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 422 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 422 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.MarshallName));

        
        #line default
        #line hidden
        
        #line 422 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", \"");

        
        #line default
        #line hidden
        
        #line 422 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.XmlNamespace));

        
        #line default
        #line hidden
        
        #line 422 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 423 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

						}
						else
						{

        
        #line default
        #line hidden
        
        #line 428 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 428 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 428 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.MarshallName));

        
        #line default
        #line hidden
        
        #line 428 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 429 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 429 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteAttributeString(\"xmlns\",\"");

        
        #line default
        #line hidden
        
        #line 429 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.XmlNamespacePrefix));

        
        #line default
        #line hidden
        
        #line 429 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",null,\"");

        
        #line default
        #line hidden
        
        #line 429 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.XmlNamespace));

        
        #line default
        #line hidden
        
        #line 429 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 430 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

						}
					}
				}

        
        #line default
        #line hidden
        
        #line 435 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 435 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\tforeach (var ");

        
        #line default
        #line hidden
        
        #line 435 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listItemVariable));

        
        #line default
        #line hidden
        
        #line 435 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(" in ");

        
        #line default
        #line hidden
        
        #line 435 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listVariable));

        
        #line default
        #line hidden
        
        #line 435 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(") \r\n");

        
        #line default
        #line hidden
        
        #line 436 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 436 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t{\r\n");

        
        #line default
        #line hidden
        
        #line 437 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
			
			if(member.Shape.ListShape.IsStructure)
			{
					ProcessStructure(level + 1, listItemVariable, member);	
			}
			else
			{
				var listMarshallName = member.Shape.ListMarshallName ?? "member";
				// see https://smithy.io/2.0/spec/protocol-traits.html#xmlflattened-trait
				if(member.IsFlattened)
					listMarshallName = member.LocationName ?? member.ModeledName;
				if(member.Shape.ListShape.IsTimeStamp)
				{
					// Use shape's ListMarshallName as it's a list structure.

        
        #line default
        #line hidden
        
        #line 452 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 452 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 452 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listMarshallName));

        
        #line default
        #line hidden
        
        #line 452 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 453 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 453 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteValue(");

        
        #line default
        #line hidden
        
        #line 453 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ListShape.PrimitiveMarshaller(MarshallLocation.Body)));

        
        #line default
        #line hidden
        
        #line 453 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("(");

        
        #line default
        #line hidden
        
        #line 453 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listItemVariable));

        
        #line default
        #line hidden
        
        #line 453 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("));\r\n");

        
        #line default
        #line hidden
        
        #line 454 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 454 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteEndElement();\r\n");

        
        #line default
        #line hidden
        
        #line 455 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
				

				}
				else
				{
					var listNode = member.Shape.data;
					var listMemberNode = listNode[Shape.MemberKey];
					Member innerShape = null;
					if(this.Structure != null)
						innerShape = new Member(this.Structure.model, member.Shape, listMemberNode["shape"].ToString(), listMarshallName, listMemberNode, null);
					
					// Use shape's ListMarshallName as it's a list structure.
					if(listMemberNode == null || listMemberNode[ServiceModel.XmlNamespaceKey] == null || string.IsNullOrEmpty((string)listMemberNode[ServiceModel.XmlNamespaceKey]))
					{

        
        #line default
        #line hidden
        
        #line 470 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 470 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 470 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listMarshallName));

        
        #line default
        #line hidden
        
        #line 470 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 471 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

					}
					else
					{
						JsonData listMemberXmlNamespaceNode = listMemberNode[ServiceModel.XmlNamespaceKey];
						// if it's a string, it has no prefix
						if(listMemberXmlNamespaceNode.IsString)
						{

        
        #line default
        #line hidden
        
        #line 480 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 480 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 480 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listMarshallName));

        
        #line default
        #line hidden
        
        #line 480 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", \"");

        
        #line default
        #line hidden
        
        #line 480 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listMemberXmlNamespaceNode));

        
        #line default
        #line hidden
        
        #line 480 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n\r\n");

        
        #line default
        #line hidden
        
        #line 482 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

						}
						else
						{

        
        #line default
        #line hidden
        
        #line 487 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 487 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 487 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listMarshallName));

        
        #line default
        #line hidden
        
        #line 487 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 488 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 488 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteAttributeString(\"xmlns\",\"");

        
        #line default
        #line hidden
        
        #line 488 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listMemberXmlNamespaceNode[ServiceModel.XmlNamespacePrefixKey]));

        
        #line default
        #line hidden
        
        #line 488 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",null,\"");

        
        #line default
        #line hidden
        
        #line 488 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listMemberXmlNamespaceNode[ServiceModel.XmlNamespaceUriKey]));

        
        #line default
        #line hidden
        
        #line 488 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 489 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

						}
					}
					if (innerShape != null && innerShape.Shape.IsList)
					{
						ProcessNestedList(level + 1, variableName, innerShape, member);
					}

        
        #line default
        #line hidden
        
        #line 497 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

					if (innerShape == null || (innerShape != null && !innerShape.Shape.IsList))
					{

        
        #line default
        #line hidden
        
        #line 501 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 501 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteValue(");

        
        #line default
        #line hidden
        
        #line 501 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listItemVariable));

        
        #line default
        #line hidden
        
        #line 501 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(");\r\n");

        
        #line default
        #line hidden
        
        #line 502 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

					}

        
        #line default
        #line hidden
        
        #line 505 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 505 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteEndElement();\r\n");

        
        #line default
        #line hidden
        
        #line 506 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
				
				}
			}			

        
        #line default
        #line hidden
        
        #line 510 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 510 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t}\t\t\t\r\n");

        
        #line default
        #line hidden
        
        #line 511 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			if (!member.IsFlattened)
			{

        
        #line default
        #line hidden
        
        #line 515 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 515 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteEndElement();\t\t\t\r\n");

        
        #line default
        #line hidden
        
        #line 516 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}

        
        #line default
        #line hidden
        
        #line 519 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 519 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t}\r\n");

        
        #line default
        #line hidden
        
        #line 520 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
				
	}

	void ProcessMap(int level, string variableName, Member member)
	{
		if(string.IsNullOrEmpty(member.XmlNamespace))
		{

        
        #line default
        #line hidden
        
        #line 528 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 528 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 528 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.MarshallName));

        
        #line default
        #line hidden
        
        #line 528 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 529 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		}
		else
		{
			if(string.IsNullOrEmpty(member.XmlNamespacePrefix))
			{

        
        #line default
        #line hidden
        
        #line 536 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 536 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 536 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.MarshallName));

        
        #line default
        #line hidden
        
        #line 536 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",\"");

        
        #line default
        #line hidden
        
        #line 536 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.XmlNamespace));

        
        #line default
        #line hidden
        
        #line 536 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n\r\n");

        
        #line default
        #line hidden
        
        #line 538 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
			else
			{

        
        #line default
        #line hidden
        
        #line 543 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 543 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 543 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.MarshallName));

        
        #line default
        #line hidden
        
        #line 543 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 544 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 544 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteAttributeString(\"xmlns\",\"");

        
        #line default
        #line hidden
        
        #line 544 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.XmlNamespacePrefix));

        
        #line default
        #line hidden
        
        #line 544 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",null,\"");

        
        #line default
        #line hidden
        
        #line 544 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.XmlNamespace));

        
        #line default
        #line hidden
        
        #line 544 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 545 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
		}

        
        #line default
        #line hidden
        
        #line 549 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 549 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\tforeach (var kvp in ");

        
        #line default
        #line hidden
        
        #line 549 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 549 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 549 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PropertyName));

        
        #line default
        #line hidden
        
        #line 549 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(")\r\n");

        
        #line default
        #line hidden
        
        #line 550 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 550 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t{\r\n");

        
        #line default
        #line hidden
        
        #line 551 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 551 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteStartElement(\"entry\");\r\n");

        
        #line default
        #line hidden
        
        #line 552 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		if(string.IsNullOrEmpty(member.Shape.KeyShapeXmlNamespace))
		{

        
        #line default
        #line hidden
        
        #line 555 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\r\n");

        
        #line default
        #line hidden
        
        #line 557 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 557 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 557 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.KeyMarshallName));

        
        #line default
        #line hidden
        
        #line 557 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", kvp.Key);\r\n");

        
        #line default
        #line hidden
        
        #line 558 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		}
		else
		{
			var keyNode = member.Shape.data[Shape.KeyKey];
			if(keyNode[ServiceModel.XmlNamespaceKey].IsString)
			{

        
        #line default
        #line hidden
        
        #line 566 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 566 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 566 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.KeyMarshallName));

        
        #line default
        #line hidden
        
        #line 566 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",\"");

        
        #line default
        #line hidden
        
        #line 566 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.KeyShapeXmlNamespace));

        
        #line default
        #line hidden
        
        #line 566 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",kvp.Key);\r\n");

        
        #line default
        #line hidden
        
        #line 567 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
			else
			{

        
        #line default
        #line hidden
        
        #line 572 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 572 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 572 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(keyNode[ServiceModel.XmlNamespaceKey][ServiceModel.XmlNamespacePrefixKey]));

        
        #line default
        #line hidden
        
        #line 572 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",\"");

        
        #line default
        #line hidden
        
        #line 572 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.KeyMarshallName));

        
        #line default
        #line hidden
        
        #line 572 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",\"");

        
        #line default
        #line hidden
        
        #line 572 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.KeyShapeXmlNamespace));

        
        #line default
        #line hidden
        
        #line 572 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",kvp.Key);\r\n\r\n");

        
        #line default
        #line hidden
        
        #line 574 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
		}
		if(member.Shape.ValueShape.IsMap)
		{
			ProcessSubMap(level + 1, member.Shape.ValueShape, "kvp");
		}
		else if(member.Shape.ValueShape.IsStructure)
		{

        
        #line default
        #line hidden
        
        #line 584 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 584 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 584 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ValueMarshallName));

        
        #line default
        #line hidden
        
        #line 584 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 585 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			ProcessStructureAsMapValue(level + 2, "kvp.Value", member.Shape.ValueShape);

        
        #line default
        #line hidden
        
        #line 588 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 588 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteEndElement();\r\n");

        
        #line default
        #line hidden
        
        #line 589 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		}
		else
		{
			if(string.IsNullOrEmpty(member.Shape.ValueShapeXmlNamespace))
			{

        
        #line default
        #line hidden
        
        #line 596 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 596 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 596 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ValueMarshallName));

        
        #line default
        #line hidden
        
        #line 596 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", kvp.Value");

        
        #line default
        #line hidden
        
        #line 596 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ValueShape.IsString ? "" : ".ToString()"));

        
        #line default
        #line hidden
        
        #line 596 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(");\r\n");

        
        #line default
        #line hidden
        
        #line 597 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
			else
			{
				var valueNode = member.Shape.data[Shape.ValueKey];
				if(valueNode[ServiceModel.XmlNamespaceKey].IsString)
				{

        
        #line default
        #line hidden
        
        #line 605 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 605 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 605 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ValueMarshallName));

        
        #line default
        #line hidden
        
        #line 605 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", \"");

        
        #line default
        #line hidden
        
        #line 605 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ValueShapeXmlNamespace));

        
        #line default
        #line hidden
        
        #line 605 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",kvp.Value");

        
        #line default
        #line hidden
        
        #line 605 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ValueShape.IsString ? "" : ".ToString()"));

        
        #line default
        #line hidden
        
        #line 605 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(");\r\n");

        
        #line default
        #line hidden
        
        #line 606 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
				}
				else
				{

        
        #line default
        #line hidden
        
        #line 610 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 610 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 610 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(valueNode[ServiceModel.XmlNamespaceKey][ServiceModel.XmlNamespacePrefixKey]));

        
        #line default
        #line hidden
        
        #line 610 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",\"");

        
        #line default
        #line hidden
        
        #line 610 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ValueMarshallName));

        
        #line default
        #line hidden
        
        #line 610 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", \"");

        
        #line default
        #line hidden
        
        #line 610 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ValueShapeXmlNamespace));

        
        #line default
        #line hidden
        
        #line 610 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",kvp.Value");

        
        #line default
        #line hidden
        
        #line 610 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ValueShape.IsString ? "" : ".ToString()"));

        
        #line default
        #line hidden
        
        #line 610 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(");\r\n");

        
        #line default
        #line hidden
        
        #line 611 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

				}
			}
		}

        
        #line default
        #line hidden
        
        #line 616 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 616 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteEndElement();\r\n");

        
        #line default
        #line hidden
        
        #line 617 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 617 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t}\r\n");

        
        #line default
        #line hidden
        
        #line 618 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 618 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteEndElement();\r\n");

        
        #line default
        #line hidden
        
        #line 619 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
		
	}

        
        #line default
        #line hidden
        
        #line 622 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

	// Separating the processing of a flattened map and a regular map for maintability
	void ProcessFlattenedMap(int level, string variableName, Member member)
	{	

        
        #line default
        #line hidden
        
        #line 627 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 627 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\tforeach (var kvp in ");

        
        #line default
        #line hidden
        
        #line 627 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 627 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 627 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PropertyName));

        
        #line default
        #line hidden
        
        #line 627 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(")\r\n");

        
        #line default
        #line hidden
        
        #line 628 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 628 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t{\r\n");

        
        #line default
        #line hidden
        
        #line 629 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 629 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 629 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.MarshallName));

        
        #line default
        #line hidden
        
        #line 629 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 630 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		if(string.IsNullOrEmpty(member.Shape.KeyShapeXmlNamespace))
		{

        
        #line default
        #line hidden
        
        #line 634 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 634 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 634 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.KeyMarshallName));

        
        #line default
        #line hidden
        
        #line 634 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", kvp.Key);\r\n");

        
        #line default
        #line hidden
        
        #line 635 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		}
		else
		{

        
        #line default
        #line hidden
        
        #line 640 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 640 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 640 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.KeyMarshallName));

        
        #line default
        #line hidden
        
        #line 640 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",\"");

        
        #line default
        #line hidden
        
        #line 640 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.KeyShapeXmlNamespace));

        
        #line default
        #line hidden
        
        #line 640 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", kvp.Key);\r\n");

        
        #line default
        #line hidden
        
        #line 641 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		}
		if(member.Shape.ValueShape.IsMap)
		{
			ProcessSubMap(level + 1, member.Shape.ValueShape, "kvp");
		}
		else if(member.Shape.ValueShape.IsStructure)
		{

        
        #line default
        #line hidden
        
        #line 650 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 650 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 650 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ValueMarshallName));

        
        #line default
        #line hidden
        
        #line 650 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 651 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			ProcessStructureAsMapValue(level + 2, "kvp.Value", member.Shape.ValueShape);

        
        #line default
        #line hidden
        
        #line 654 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 654 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteEndElement();\r\n");

        
        #line default
        #line hidden
        
        #line 655 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		}
		else
		{
			if(string.IsNullOrEmpty(member.Shape.ValueShapeXmlNamespace))
			{

        
        #line default
        #line hidden
        
        #line 662 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 662 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 662 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ValueMarshallName));

        
        #line default
        #line hidden
        
        #line 662 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", kvp.Value");

        
        #line default
        #line hidden
        
        #line 662 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ValueShape.IsString ? "" : ".ToString()"));

        
        #line default
        #line hidden
        
        #line 662 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(");\r\n");

        
        #line default
        #line hidden
        
        #line 663 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 663 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteEndElement();\r\n");

        
        #line default
        #line hidden
        
        #line 664 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
			else
			{

        
        #line default
        #line hidden
        
        #line 669 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 669 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 669 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ValueMarshallName));

        
        #line default
        #line hidden
        
        #line 669 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", \"");

        
        #line default
        #line hidden
        
        #line 669 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ValueShapeXmlNamespace));

        
        #line default
        #line hidden
        
        #line 669 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", kvp.Value");

        
        #line default
        #line hidden
        
        #line 669 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Shape.ValueShape.IsString ? "" : ".ToString()"));

        
        #line default
        #line hidden
        
        #line 669 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(");\r\n");

        
        #line default
        #line hidden
        
        #line 670 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 670 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteEndElement();\r\n");

        
        #line default
        #line hidden
        
        #line 671 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			}
		}

        
        #line default
        #line hidden
        
        #line 675 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 675 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t}\t\r\n");

        
        #line default
        #line hidden
        
        #line 676 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

	}

        
        #line default
        #line hidden
        
        #line 679 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

	void ProcessSubMap(int level, Shape shape, string parentVariableName)
	{				

        
        #line default
        #line hidden
        
        #line 683 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 683 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteStartElement(\"value\");\r\n");

        
        #line default
        #line hidden
        
        #line 684 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 684 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\tforeach (var kvp");

        
        #line default
        #line hidden
        
        #line 684 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(level));

        
        #line default
        #line hidden
        
        #line 684 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(" in ");

        
        #line default
        #line hidden
        
        #line 684 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(parentVariableName));

        
        #line default
        #line hidden
        
        #line 684 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".Value) \r\n");

        
        #line default
        #line hidden
        
        #line 685 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 685 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t{\r\n");

        
        #line default
        #line hidden
        
        #line 686 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 686 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteStartElement(\"entry\");\r\n");

        
        #line default
        #line hidden
        
        #line 687 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 687 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 687 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(shape.KeyMarshallName));

        
        #line default
        #line hidden
        
        #line 687 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", kvp");

        
        #line default
        #line hidden
        
        #line 687 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(level));

        
        #line default
        #line hidden
        
        #line 687 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".Key);\r\n");

        
        #line default
        #line hidden
        
        #line 688 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		if(shape.ValueShape.IsMap)
		{
			ProcessSubMap(level + 1, shape.ValueShape, $"kvp{level}");
		}
		else
		{

        
        #line default
        #line hidden
        
        #line 696 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 696 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteElementString(\"");

        
        #line default
        #line hidden
        
        #line 696 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(shape.ValueMarshallName));

        
        #line default
        #line hidden
        
        #line 696 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", kvp");

        
        #line default
        #line hidden
        
        #line 696 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(level));

        
        #line default
        #line hidden
        
        #line 696 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".Value);\r\n");

        
        #line default
        #line hidden
        
        #line 697 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		}

        
        #line default
        #line hidden
        
        #line 700 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 700 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteEndElement();\r\n");

        
        #line default
        #line hidden
        
        #line 701 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 701 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t}\t\t\t\r\n");

        
        #line default
        #line hidden
        
        #line 702 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 702 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteEndElement();\t\t\t\t\r\n");

        
        #line default
        #line hidden
        
        #line 703 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
				
	}

        
        #line default
        #line hidden
        
        #line 706 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

	protected void ProcessNonStructurePayload(Member payload, int level)
	{
		if(payload.Shape.IsString)
		{

        
        #line default
        #line hidden
        
        #line 712 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 712 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("request.Content = Encoding.UTF8.GetBytes(");

        
        #line default
        #line hidden
        
        #line 712 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(this.Operation.RequestPayloadMember.PrimitiveMarshaller));

        
        #line default
        #line hidden
        
        #line 712 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("(publicRequest.");

        
        #line default
        #line hidden
        
        #line 712 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(this.Operation.RequestPayloadMember.PropertyName));

        
        #line default
        #line hidden
        
        #line 712 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("));\r\n");

        
        #line default
        #line hidden
        
        #line 713 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 713 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("request.Headers[\"Content-Type\"] = \"text/plain\";\r\n");

        
        #line default
        #line hidden
        
        #line 714 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		}
		else if(payload.Shape.IsMemoryStream)
		{

        
        #line default
        #line hidden
        
        #line 719 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 719 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("request.ContentStream = publicRequest.");

        
        #line default
        #line hidden
        
        #line 719 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(this.Operation.RequestPayloadMember.PropertyName));

        
        #line default
        #line hidden
        
        #line 719 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(";\r\n");

        
        #line default
        #line hidden
        
        #line 720 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 720 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("request.Headers[\"Content-Type\"] = \"application/octet-stream\";\r\n");

        
        #line default
        #line hidden
        
        #line 721 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		}
	}

        
        #line default
        #line hidden
        
        #line 725 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

	protected void ProcessStructureAsMapValue(int level, string variableName, Shape shape)
	{
		// Use shape's ListMarshallName if the structure is a list.

        
        #line default
        #line hidden
        
        #line 730 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 730 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\tif (");

        
        #line default
        #line hidden
        
        #line 730 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 730 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(" != null) \r\n");

        
        #line default
        #line hidden
        
        #line 731 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 731 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t{\r\n");

        
        #line default
        #line hidden
        
        #line 732 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

			ProcessMembers(level + 1, variableName, shape.Members, insideMap: true);

        
        #line default
        #line hidden
        
        #line 735 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 735 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t}\r\n");

        
        #line default
        #line hidden
        
        #line 736 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

	}

        
        #line default
        #line hidden
        
        #line 739 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

	protected void ProcessNestedList(int level, string variableName, Member innerMember, Member owningMember)
	{
		// ListItemVariable corresponds to the innerList, which is named via the owningMember. 
		// The innerMember is only used if the list has another layer of nesting
		var listVariable = (variableName + owningMember.PropertyName).Replace(".",string.Empty);
		var listItemVariable = (variableName + owningMember.PropertyName).Replace(".",string.Empty) + "Value";
		var listMarshallName = innerMember.Shape.ListMarshallName ?? "member";
		var innerListItemVariable = listItemVariable + "InnerValue";
		var listNode = innerMember.Shape.data;
		var listMemberNode = listNode[Shape.MemberKey];
		var innerShape = new Member(this.Structure.model, innerMember.Shape, listMemberNode["shape"].ToString(), listMarshallName, listMemberNode, null);
		


        
        #line default
        #line hidden
        
        #line 754 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', (level) * 4)));

        
        #line default
        #line hidden
        
        #line 754 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\tforeach (var ");

        
        #line default
        #line hidden
        
        #line 754 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(innerListItemVariable));

        
        #line default
        #line hidden
        
        #line 754 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(" in ");

        
        #line default
        #line hidden
        
        #line 754 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listItemVariable));

        
        #line default
        #line hidden
        
        #line 754 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(")\r\n");

        
        #line default
        #line hidden
        
        #line 755 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', (level) * 4)));

        
        #line default
        #line hidden
        
        #line 755 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t{\r\n");

        
        #line default
        #line hidden
        
        #line 756 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', (level) * 4)));

        
        #line default
        #line hidden
        
        #line 756 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteStartElement(\"");

        
        #line default
        #line hidden
        
        #line 756 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(listMarshallName));

        
        #line default
        #line hidden
        
        #line 756 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\");\r\n");

        
        #line default
        #line hidden
        
        #line 757 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', (level) * 4)));

        
        #line default
        #line hidden
        
        #line 757 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteValue(");

        
        #line default
        #line hidden
        
        #line 757 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(innerListItemVariable));

        
        #line default
        #line hidden
        
        #line 757 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(");\r\n");

        
        #line default
        #line hidden
        
        #line 758 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', (level) * 4)));

        
        #line default
        #line hidden
        
        #line 758 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t\txmlWriter.WriteEndElement();\r\n");

        
        #line default
        #line hidden
        
        #line 759 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		if (innerShape != null && innerShape.Shape.IsList)
		{
			ProcessNestedList(level + 1, variableName, innerShape, innerMember);
		}

        
        #line default
        #line hidden
        
        #line 765 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', (level) * 4)));

        
        #line default
        #line hidden
        
        #line 765 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\t}\r\n");

        
        #line default
        #line hidden
        
        #line 766 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

	}

        
        #line default
        #line hidden
        
        #line 769 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

	// xsi is a common prefix in attributes, but it cannot be included in the local name itself as the xmlWriter class will throw an exception. 
	// Some services may model the xmlName, with the xsi prefix included like it is here https://github.com/smithy-lang/smithy/blob/7813acbfee4e90b589996ffcfa02fbe73785f654/smithy-aws-protocol-tests/model/restXmlWithNamespace/main.smithy#L147
	// In this case, we add xsi to the prefix argument of WriteAttributeString and extract the local name.
	protected void WriteXmlAttributeString(int level, Member member, string variableName,  bool isPayload, Operation operation = null)
	{
		var prefix = "";
		var localName = "";
		string ns = member.XmlNamespace;
		if (member.MarshallName.Contains(":"))
		{
			var colonIndex = member.MarshallName.IndexOf(":");
			prefix = member.MarshallName.Substring(0, colonIndex);
			localName = member.MarshallName.Substring(colonIndex + 1);
		}
		else
		{
			prefix = member.XmlNamespacePrefix;
			localName = member.MarshallName;
		}		

        
        #line default
        #line hidden
        
        #line 790 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		if(isPayload)
		{

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteAttributeString(\"");

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(prefix));

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",\"");

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(localName));

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",\"");

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.XmlNamespace));

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",");

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PrimitiveMarshaller));

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("(");

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.RequestPayloadMember.PropertyName));

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PropertyName));

        
        #line default
        #line hidden
        
        #line 794 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("));\r\n");

        
        #line default
        #line hidden
        
        #line 795 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		}
		else
		{

        
        #line default
        #line hidden
        
        #line 800 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 800 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\t\t\t\t\txmlWriter.WriteAttributeString(\"");

        
        #line default
        #line hidden
        
        #line 800 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(prefix));

        
        #line default
        #line hidden
        
        #line 800 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",\"");

        
        #line default
        #line hidden
        
        #line 800 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(localName));

        
        #line default
        #line hidden
        
        #line 800 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\", \"");

        
        #line default
        #line hidden
        
        #line 800 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.XmlNamespace));

        
        #line default
        #line hidden
        
        #line 800 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("\",");

        
        #line default
        #line hidden
        
        #line 800 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PrimitiveMarshaller));

        
        #line default
        #line hidden
        
        #line 800 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("(");

        
        #line default
        #line hidden
        
        #line 800 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(variableName));

        
        #line default
        #line hidden
        
        #line 800 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 800 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PropertyName));

        
        #line default
        #line hidden
        
        #line 800 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"
this.Write("));\r\n");

        
        #line default
        #line hidden
        
        #line 801 "C:\Dev\worktrees\v4h2opt\generator\ServiceClientGeneratorLib\Generators\Marshallers\RestXmlRequestMarshaller.tt"

		}
	}

        
        #line default
        #line hidden
    }
    
    #line default
    #line hidden
}
