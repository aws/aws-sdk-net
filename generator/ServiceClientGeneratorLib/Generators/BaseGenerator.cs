// ------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version: 17.0.0.0
//  
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
// ------------------------------------------------------------------------------
namespace ServiceClientGenerator.Generators
{
    using System.IO;
    using System.Linq;
    using System.Text;
    using System.Collections.Generic;
    using ServiceClientGenerator.DefaultConfiguration;
    using System.Text.RegularExpressions;
    using System;
    
    /// <summary>
    /// Class to produce the template output
    /// </summary>
    
    #line 1 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("Microsoft.VisualStudio.TextTemplating", "17.0.0.0")]
    public partial class BaseGenerator : BaseGeneratorBase
    {
#line hidden
        /// <summary>
        /// Create the template output
        /// </summary>
        public virtual string TransformText()
        {
            return this.GenerationEnvironment.ToString();
        }
        
        #line 9 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
	
    // An object that contains all the information about a service
	public ServiceConfiguration Config { get; set; }

    /// <summary>
    /// Model representing the default configuration modes as built
    /// from the sdk-default-configurations.json file. 
    /// </summary>
    public DefaultConfigurationModel DefaultConfigurationModel { get; set; }

    // Adds the Amazon Apache 2.0 license
    public void AddLicenseHeader()
    {

        
        #line default
        #line hidden
        
        #line 22 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(@"/*
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * 
 * Licensed under the Apache License, Version 2.0 (the ""License"").
 * You may not use this file except in compliance with the License.
 * A copy of the License is located at
 * 
 *  http://aws.amazon.com/apache2.0
 * 
 * or in the ""license"" file accompanying this file. This file is distributed
 * on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
 * express or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */

/*
 * Do not modify this file. This file is generated from the ");

        
        #line default
        #line hidden
        
        #line 39 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(Path.GetFileName(this.Config.ModelPath)));

        
        #line default
        #line hidden
        
        #line 39 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" service model.\r\n */\r\n");

        
        #line default
        #line hidden
        
        #line 41 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    }

    // Adds documentation to the begin operation based on the name
    public void AddBeginAsyncDocumentation(Operation operation)
    {

        
        #line default
        #line hidden
        
        #line 47 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <summary>\r\n        /// Initiates the asynchronous execution of the ");

        
        #line default
        #line hidden
        
        #line 49 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 49 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" operation.\r\n        /// </summary>\r\n        /// \r\n        /// <param name=\"reque" +
        "st\">Container for the necessary parameters to execute the ");

        
        #line default
        #line hidden
        
        #line 52 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 52 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" operation on Amazon");

        
        #line default
        #line hidden
        
        #line 52 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(this.Config.ClassName));

        
        #line default
        #line hidden
        
        #line 52 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(@"Client.</param>
        /// <param name=""callback"">An AsyncCallback delegate that is invoked when the operation completes.</param>
        /// <param name=""state"">A user-defined state object that is passed to the callback procedure. Retrieve this object from within the callback
        ///          procedure using the AsyncState property.</param>
        /// 
        /// <returns>An IAsyncResult that can be used to poll or wait for results, or both; this value is also needed when invoking End");

        
        #line default
        #line hidden
        
        #line 57 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 57 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\r\n        ///         operation.</returns>\r\n");

        
        #line default
        #line hidden
        
        #line 59 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        if(!string.IsNullOrEmpty(operation.RestAPIDocUrl))
        {

        
        #line default
        #line hidden
        
        #line 62 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <seealso href=\"");

        
        #line default
        #line hidden
        
        #line 63 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.RestAPIDocUrl));

        
        #line default
        #line hidden
        
        #line 63 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\">REST API Reference for ");

        
        #line default
        #line hidden
        
        #line 63 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 63 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" Operation</seealso>\r\n");

        
        #line default
        #line hidden
        
        #line 64 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        }
    }

    // Generates the end operation async documentation
    public void AddEndAsyncDocumentation(Operation operation)
    {

        
        #line default
        #line hidden
        
        #line 71 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <summary>\r\n        /// Finishes the asynchronous execution of the  ");

        
        #line default
        #line hidden
        
        #line 73 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 73 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" operation.\r\n        /// </summary>\r\n        /// \r\n        /// <param name=\"async" +
        "Result\">The IAsyncResult returned by the call to Begin");

        
        #line default
        #line hidden
        
        #line 76 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 76 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(".</param>\r\n        /// \r\n        /// <returns>Returns a  ");

        
        #line default
        #line hidden
        
        #line 78 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 78 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("Result from ");

        
        #line default
        #line hidden
        
        #line 78 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(this.Config.ClassName));

        
        #line default
        #line hidden
        
        #line 78 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(".</returns>\r\n");

        
        #line default
        #line hidden
        
        #line 79 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        if(!string.IsNullOrEmpty(operation.RestAPIDocUrl))
        {

        
        #line default
        #line hidden
        
        #line 82 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <seealso href=\"");

        
        #line default
        #line hidden
        
        #line 83 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.RestAPIDocUrl));

        
        #line default
        #line hidden
        
        #line 83 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\">REST API Reference for ");

        
        #line default
        #line hidden
        
        #line 83 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 83 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" Operation</seealso>\r\n");

        
        #line default
        #line hidden
        
        #line 84 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        }
    }

    // Generates Client documentation
    public void FormatServiceClientDocumentation(string documentation)
    {
        documentation = CleanupDocumentation(documentation);

        
        #line default
        #line hidden
        
        #line 92 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("    /// <summary>\r\n    /// <para>Implementation for accessing ");

        
        #line default
        #line hidden
        
        #line 94 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(this.Config.ClassName));

        
        #line default
        #line hidden
        
        #line 94 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("</para>\r\n    ///\r\n");

        
        #line default
        #line hidden
        
        #line 96 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        WriteCommentBlock("    ", documentation);

        
        #line default
        #line hidden
        
        #line 98 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("    /// </summary>\r\n");

        
        #line default
        #line hidden
        
        #line 100 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    }

    // Generates interface documentation
    public void FormatServiceInterfaceDocumentation(string documentation)
    {
        documentation = CleanupDocumentation(documentation);

        
        #line default
        #line hidden
        
        #line 107 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("    /// <summary>\r\n    /// <para>Interface for accessing ");

        
        #line default
        #line hidden
        
        #line 109 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(this.Config.ClassName));

        
        #line default
        #line hidden
        
        #line 109 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("</para>\r\n    ///\r\n");

        
        #line default
        #line hidden
        
        #line 111 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        WriteCommentBlock("    ", documentation);

        
        #line default
        #line hidden
        
        #line 113 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("    /// </summary>\r\n");

        
        #line default
        #line hidden
        
        #line 115 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    }

    // Adds documentation to the class based on the shape
    public void FormatClassDocumentation(Shape structure)
    {
        if(structure == null)
		{

        
        #line default
        #line hidden
        
        #line 123 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("    /// <summary>\r\n\t/// Empty class reserved for future use.\r\n    /// </summary>\r" +
        "\n");

        
        #line default
        #line hidden
        
        #line 127 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

            return;
		}
        var documentation = CleanupDocumentation(structure.Documentation);

        
        #line default
        #line hidden
        
        #line 131 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("    /// <summary>\r\n");

        
        #line default
        #line hidden
        
        #line 133 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        WriteCommentBlock("    ", documentation);

        
        #line default
        #line hidden
        
        #line 135 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("    /// </summary>\r\n");

        
        #line default
        #line hidden
        
        #line 137 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    }

    // Adds documentation to the members of a structure
    public void FormatPropertyDocumentation(Member member, string documentationPreface = "", string evenPublisherDocumentation = "", bool isCollectionProperty = false)
    {
        if (documentationPreface != null && documentationPreface != "")
        {
            if (!documentationPreface.EndsWith("."))
            {
                documentationPreface += ".";
            }
            documentationPreface = "<p>" + documentationPreface  + "</p> ";
        }
        var documentation = CleanupDocumentation(string.Format("Gets and sets the property {0}. {1}{2}", member.PropertyName, documentationPreface, member.Documentation));


        
        #line default
        #line hidden
        
        #line 153 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <summary>\r\n");

        
        #line default
        #line hidden
        
        #line 155 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        WriteCommentBlock("        ", documentation);
        if (!string.IsNullOrEmpty(evenPublisherDocumentation))
        {
            WriteCommentBlock("        ", evenPublisherDocumentation);
        }
        if (isCollectionProperty)
        {

        
        #line default
        #line hidden
        
        #line 163 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <para />\r\n");

        
        #line default
        #line hidden
        
        #line 165 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

            WriteCommentBlock("        ", "Starting with version 4 of the SDK this property will default to null. If no data for this property is returned");
            WriteCommentBlock("        ", "from the service the property will also be null. This was changed to improve performance and allow the SDK and caller");
            WriteCommentBlock("        ", "to distinguish between a property not set or a property being empty to clear out a value. To retain the previous");
            WriteCommentBlock("        ", "SDK behavior set the AWSConfigs.InitializeCollections static property to true.");
        }

        
        #line default
        #line hidden
        
        #line 171 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// </summary>\r\n");

        
        #line default
        #line hidden
        
        #line 173 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    }

    public void FormatOperationDocumentationSync(Operation operation, bool includeRequest)
    {
        FormatOperationDocumentationHelper(operation, includeRequest, false);
    }

    public void FormatOperationDocumentationAsync(Operation operation, bool includeRequest)
    {
        FormatOperationDocumentationHelper(operation, includeRequest, true);
    }

    // Documents the operation in a client or interface and optionally includes request param
    private void FormatOperationDocumentationHelper(Operation operation, bool includeRequest, bool isAsync)
    {
        var documentation = CleanupDocumentation(operation.Documentation);


        
        #line default
        #line hidden
        
        #line 191 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\r\n        /// <summary>\r\n");

        
        #line default
        #line hidden
        
        #line 194 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        WriteCommentBlock("        ", documentation);

        
        #line default
        #line hidden
        
        #line 196 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// </summary>\r\n");

        
        #line default
        #line hidden
        
        #line 198 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    if (includeRequest)
    {

        
        #line default
        #line hidden
        
        #line 201 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <param name=\"request\">Container for the necessary parameters to execu" +
        "te the ");

        
        #line default
        #line hidden
        
        #line 202 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 202 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" service method.</param>\r\n");

        
        #line default
        #line hidden
        
        #line 203 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    }
    if (isAsync)
    {

	  // follows Async Pattern

        
        #line default
        #line hidden
        
        #line 209 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <param name=\"cancellationToken\">\r\n        ///     A cancellation toke" +
        "n that can be used by other objects or threads to receive notice of cancellation" +
        ".\r\n        /// </param>\r\n");

        
        #line default
        #line hidden
        
        #line 213 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    }

        
        #line default
        #line hidden
        
        #line 215 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// \r\n        /// <returns>The response from the ");

        
        #line default
        #line hidden
        
        #line 217 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 217 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" service method, as returned by ");

        
        #line default
        #line hidden
        
        #line 217 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(this.Config.ClassName));

        
        #line default
        #line hidden
        
        #line 217 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(".</returns>\r\n");

        
        #line default
        #line hidden
        
        #line 218 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        // Skip adding exceptions in the ndoc because we are not generating exceptions from the service model.
        if(this.Config.Namespace != "Amazon.S3")
        {
            foreach(var exception in operation.Exceptions)
            {
                this.FormatExceptionDocumentation(exception);
            }
        }
		
		if(!string.IsNullOrEmpty(operation.RestAPIDocUrl))
        {

        
        #line default
        #line hidden
        
        #line 230 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <seealso href=\"");

        
        #line default
        #line hidden
        
        #line 231 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.RestAPIDocUrl));

        
        #line default
        #line hidden
        
        #line 231 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\">REST API Reference for ");

        
        #line default
        #line hidden
        
        #line 231 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 231 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" Operation</seealso>\r\n");

        
        #line default
        #line hidden
        
        #line 232 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        }
    }

        // Generates operation documentation with a param tag for each member in the list
        public void FormatOperationDocumentation(Operation operation, List<Member> members, bool isSync)
    {
        var documentation = CleanupDocumentation(operation.Documentation);


        
        #line default
        #line hidden
        
        #line 241 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\r\n        /// <summary>\r\n");

        
        #line default
        #line hidden
        
        #line 244 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        WriteCommentBlock("        ", documentation);

        
        #line default
        #line hidden
        
        #line 246 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// </summary>\r\n");

        
        #line default
        #line hidden
        
        #line 248 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
  foreach(var item in members)
    {

        
        #line default
        #line hidden
        
        #line 250 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <param name=\"");

        
        #line default
        #line hidden
        
        #line 251 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(GeneratorHelpers.CamelCaseParam(item.PropertyName)));

        
        #line default
        #line hidden
        
        #line 251 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\">");

        
        #line default
        #line hidden
        
        #line 251 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(item.GetParamDocumentationForOperation(operation.Name)));

        
        #line default
        #line hidden
        
        #line 251 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("</param>\r\n");

        
        #line default
        #line hidden
        
        #line 252 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    }
    if (!isSync)
    {

        
        #line default
        #line hidden
        
        #line 256 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <param name=\"cancellationToken\">\r\n        ///     A cancellation toke" +
        "n that can be used by other objects or threads to receive notice of cancellation" +
        ".\r\n        /// </param>\r\n");

        
        #line default
        #line hidden
        
        #line 260 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    }

        
        #line default
        #line hidden
        
        #line 262 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// \r\n        /// <returns>The response from the ");

        
        #line default
        #line hidden
        
        #line 264 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 264 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" service method, as returned by ");

        
        #line default
        #line hidden
        
        #line 264 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(this.Config.ClassName));

        
        #line default
        #line hidden
        
        #line 264 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(".</returns>\r\n");

        
        #line default
        #line hidden
        
        #line 265 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

		if (!this.Config.ServiceModel.Customizations.SuppressSimpleMethodExceptionDocs)
		{
			foreach(var exception in operation.Exceptions)
			{
				this.FormatExceptionDocumentation(exception);
			}
		}

		if(!string.IsNullOrEmpty(operation.RestAPIDocUrl))
        {

        
        #line default
        #line hidden
        
        #line 276 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <seealso href=\"");

        
        #line default
        #line hidden
        
        #line 277 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.RestAPIDocUrl));

        
        #line default
        #line hidden
        
        #line 277 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\">REST API Reference for ");

        
        #line default
        #line hidden
        
        #line 277 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 277 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" Operation</seealso>\r\n");

        
        #line default
        #line hidden
        
        #line 278 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        }
    }

	public void FormatOperationRequestDocumentation(Operation operation)
    {
		var documentation = CleanupDocumentation(operation.Documentation);

        
        #line default
        #line hidden
        
        #line 285 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\t/// <summary>\r\n\t/// Container for the parameters to the ");

        
        #line default
        #line hidden
        
        #line 287 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 287 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" operation.\r\n");

        
        #line default
        #line hidden
        
        #line 288 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    WriteCommentBlock("	", documentation);

        
        #line default
        #line hidden
        
        #line 290 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\t/// </summary>\r\n");

        
        #line default
        #line hidden
        
        #line 292 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

	}

    // Generates documentation for an exception, added to operation documentation
    public void FormatExceptionDocumentation(ExceptionShape exceptionShape)
    {
        var documentation = CleanupDocumentation(exceptionShape.Documentation);


        
        #line default
        #line hidden
        
        #line 300 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <exception cref=\"");

        
        #line default
        #line hidden
        
        #line 301 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(this.Config.Namespace));

        
        #line default
        #line hidden
        
        #line 301 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(".Model.");

        
        #line default
        #line hidden
        
        #line 301 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(exceptionShape.Name));

        
        #line default
        #line hidden
        
        #line 301 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\">\r\n");

        
        #line default
        #line hidden
        
        #line 302 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        WriteCommentBlock("        ", documentation);

        
        #line default
        #line hidden
        
        #line 304 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// </exception>\r\n");

        
        #line default
        #line hidden
        
        #line 306 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    }

	// Generates documentation for a result that is empty
	public void FormatVoidResultDocumentation(string operationName)
	{

        
        #line default
        #line hidden
        
        #line 312 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\t/// <summary>\r\n\t///\tReturns information about the ");

        
        #line default
        #line hidden
        
        #line 314 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operationName));

        
        #line default
        #line hidden
        
        #line 314 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" response metadata.\r\n\t///\tThe ");

        
        #line default
        #line hidden
        
        #line 315 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operationName));

        
        #line default
        #line hidden
        
        #line 315 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" operation has a void result type.\r\n\t/// </summary>\r\n");

        
        #line default
        #line hidden
        
        #line 317 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

	}

    // Writes a block for an xml comment with correct line endings
    // Every \n (new line) in the block is written on a new line of the block
    private void WriteCommentBlock(string spaceBlock, string block)
    {
        foreach(var line in block.Split('\n'))
        {
            this.Write("{0}/// {1}\r\n", spaceBlock, line);
        }
    }

    // Even though these tags will be replaced, there might be occurrences with extra attributes (for example, "<p class='title'>") in the service documentation.
    // We'll replace them as well by using a regular expression:
    // - "[^>]" matches any character other than ">" (so it captures additional attributes in the HTML definition)
    // - "*" matches the previous token 0 or more times (in case there are multiple additional attributes)
    // As a result, "[^>]*" will return any extra characters included between the start and end of the element ("<p" and ">") and remove them.

    static Regex pTagRegex = new Regex("<p [^>]*>", RegexOptions.Compiled);
    static Regex tagsRegex = new Regex(String.Join("|", "<fullname [^>]*>", "<function [^>]*>", "<br [^>]*>"), RegexOptions.Compiled);

    // Removes unneccesary tags from the documentation and formats paragraph tags correctly
    public string CleanupDocumentation(string documentation)
    {
        // Service teams may include HTML elements in their documentation, but this can cause formatting issues.
        // The problem is the "<code>" tag has a different meaning in XML docs (multiple lines); we'll replace them with 
        // the "<c>" tag (already used in custom code - in Core, for example).
        documentation = documentation
            .Replace("<code>", "<c>")
            .Replace("</code>", "</c>");

        documentation = documentation
            .Replace("\r", "")
            .Replace("\n", "")
            .Replace("<br>", "")
            .Replace("<p>", "\n<para>\n")
            .Replace("</p>", "\n</para>\n")
            .Replace("<fullname>", "")
            .Replace("</fullname>", "")
            .Replace("<function>", "")
            .Replace("</function>","")
            .Replace("<p/>","")
            .Trim();

        documentation = pTagRegex.Replace(documentation, "\n<para>\n");
        documentation = tagsRegex.Replace(documentation, "");

        // Remove examples because these will be wire protocol examples
        documentation = RemoveSnippets(documentation, "<examples>", "</examples>");

        // Remove commented out documentation
        documentation = RemoveSnippets(documentation, "<!--", "-->");

		documentation = RemoveSnippets(documentation, "<!--", "-->");

		documentation = RemoveSnippets(documentation, "<?oxy_delete",">");
		documentation = RemoveSnippets(documentation, "<?oxy_insert_start",">");
		documentation = RemoveSnippets(documentation, "<?oxy_insert_end",">");

        // Remove the first para tags since it just be the first paragraph in the summary.
        // This also helps clean up documentation that only contains one para block.
        if(documentation.StartsWith("<para>"))
        {
            int closePos= documentation.IndexOf("</para>");

            if (closePos < 0)
                // note: documentation was transformed a few lines above
                throw new Exception("Documentation is missing closing tag (ie </p> or </para>): " + documentation);

            var firstParaContent= documentation.Substring("<para>".Length, closePos - "<para>".Length);
            documentation = firstParaContent + documentation.Substring(closePos + "</para>".Length);
        }

        // Insert line breaks around 80 character line length
        StringBuilder sb = new StringBuilder();
        int position = 0;
        int currentLineLength = 0;
        while(position < documentation.Length)
        {
            char c = documentation[position];
            if(c == '\n')
            {
                currentLineLength = 0;
                sb.Append(c);
            }
            else if(c == ' ' && currentLineLength > 80)
            {
                currentLineLength = 0;
                sb.Append("\n");
            }
            else
            {
                currentLineLength++;
                sb.Append(c);
            }

            position++;
        }

        return sb.ToString().Trim();
    }

	private string RemoveSnippets(string documentation, string startToken, string endToken)	
    {
        int startPos = documentation.IndexOf(startToken);
        while(startPos != -1)
        { 
            int closePos = documentation.IndexOf(endToken, startPos);
            documentation = documentation.Substring(0, startPos) + documentation.Substring(closePos + endToken.Length);

            startPos = documentation.IndexOf(startToken);
        }
		return documentation;
    }
 

    // Generates the comment block for simple constructors, each member is added as a param tag with the shape's documentation or
    // a generic comment if no documentation is found
    public void FormatSimpleConstructorDocumentation(string className, IList<Member> members)
    {

        
        #line default
        #line hidden
        
        #line 438 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <summary>\r\n        /// Instantiates ");

        
        #line default
        #line hidden
        
        #line 440 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(className));

        
        #line default
        #line hidden
        
        #line 440 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" with the parameterized properties\r\n        /// </summary>\r\n");

        
        #line default
        #line hidden
        
        #line 442 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        foreach (var member in members)
        {

        
        #line default
        #line hidden
        
        #line 445 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <param name=\"");

        
        #line default
        #line hidden
        
        #line 446 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(GeneratorHelpers.CamelCaseParam(member.PropertyName)));

        
        #line default
        #line hidden
        
        #line 446 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\">");

        
        #line default
        #line hidden
        
        #line 446 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.GetParamDocumentationForConstructor(className)));

        
        #line default
        #line hidden
        
        #line 446 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("</param>\r\n");

        
        #line default
        #line hidden
        
        #line 447 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        }
    }

        
        #line default
        #line hidden
        
        #line 452 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    // Generates methods for the client that have request members as parameters for easy calls to the operation
    // Only generates them if they are specified in the customizations of the service
    public void AddSimpleClientMethods(Operation operation, bool isSync)
    {
        if (this.Config.ServiceModel.Customizations.SimpleMethodsModel.CreateSimpleMethods(operation.Name))
        {
            var forms = this.Config.ServiceModel.Customizations.SimpleMethodsModel.SimpleMethods[operation.Name].Forms;
            var members = this.Config.ServiceModel.FindShape(operation.RequestStructure.Name).Members;

            foreach (var form in forms)
            {
                string currentParams = this.Config.ServiceModel.Customizations.SimpleMethodsModel.GetSimpleParameters(form, members);
                var docMembers = this.Config.ServiceModel.Customizations.SimpleMethodsModel.GetFormMembers(form, members);

        this.FormatOperationDocumentation(operation, docMembers, isSync);
        if (isSync)
        {
			if(operation.IsDeprecated)
			{

        
        #line default
        #line hidden
        
        #line 472 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\t\t[Obsolete(\"");

        
        #line default
        #line hidden
        
        #line 473 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.DeprecationMessage));

        
        #line default
        #line hidden
        
        #line 473 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\")]\r\n");

        
        #line default
        #line hidden
        
        #line 474 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
		
			}

        
        #line default
        #line hidden
        
        #line 476 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        public virtual ");

        
        #line default
        #line hidden
        
        #line 477 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 477 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("Response ");

        
        #line default
        #line hidden
        
        #line 477 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 477 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("(");

        
        #line default
        #line hidden
        
        #line 477 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(currentParams));

        
        #line default
        #line hidden
        
        #line 477 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(")\r\n");

        
        #line default
        #line hidden
        
        #line 478 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        }
        else
        {
            if (!string.IsNullOrEmpty(currentParams))
                currentParams += ", ";
			if(operation.IsDeprecated)
			{

        
        #line default
        #line hidden
        
        #line 486 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\t\t[Obsolete(\"");

        
        #line default
        #line hidden
        
        #line 487 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.DeprecationMessage));

        
        #line default
        #line hidden
        
        #line 487 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\")]\r\n");

        
        #line default
        #line hidden
        
        #line 488 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
		
			}

        
        #line default
        #line hidden
        
        #line 490 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        public virtual Task<");

        
        #line default
        #line hidden
        
        #line 491 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 491 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("Response> ");

        
        #line default
        #line hidden
        
        #line 491 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 491 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("Async(");

        
        #line default
        #line hidden
        
        #line 491 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(currentParams));

        
        #line default
        #line hidden
        
        #line 491 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("System.Threading.CancellationToken cancellationToken = default(CancellationToken)" +
        ")\r\n");

        
        #line default
        #line hidden
        
        #line 492 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        }

        
        #line default
        #line hidden
        
        #line 494 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        {\r\n            var request = new ");

        
        #line default
        #line hidden
        
        #line 496 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 496 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("Request();\r\n");

        
        #line default
        #line hidden
        
        #line 497 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

foreach (var member in docMembers)
{

        
        #line default
        #line hidden
        
        #line 500 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("            request.");

        
        #line default
        #line hidden
        
        #line 501 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.PropertyName));

        
        #line default
        #line hidden
        
        #line 501 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" = ");

        
        #line default
        #line hidden
        
        #line 501 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(GeneratorHelpers.CamelCaseParam(member.PropertyName)));

        
        #line default
        #line hidden
        
        #line 501 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(";\r\n");

        
        #line default
        #line hidden
        
        #line 502 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        
}
        if (isSync)
        {

        
        #line default
        #line hidden
        
        #line 507 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("            return ");

        
        #line default
        #line hidden
        
        #line 508 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 508 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("(request);\r\n");

        
        #line default
        #line hidden
        
        #line 509 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        }
        else
        {

        
        #line default
        #line hidden
        
        #line 513 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("            return ");

        
        #line default
        #line hidden
        
        #line 514 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 514 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("Async(request, cancellationToken);\r\n");

        
        #line default
        #line hidden
        
        #line 515 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        }

        
        #line default
        #line hidden
        
        #line 517 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        }\r\n\r\n");

        
        #line default
        #line hidden
        
        #line 520 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

          }
        }
      }

        
        #line default
        #line hidden
        
        #line 525 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    // Generates methods for the interface that have request members as parameters for easy calls to the operation
    // Only generates them if they are specified in the customizations of the service
    public void AddSimpleClientMethodInterfaces(Operation operation, bool isSync)
    {
        if (this.Config.ServiceModel.Customizations.SimpleMethodsModel.CreateSimpleMethods(operation.Name))
        {
            var forms = this.Config.ServiceModel.Customizations.SimpleMethodsModel.SimpleMethods[operation.Name].Forms;
            var members = this.Config.ServiceModel.FindShape(operation.RequestStructure.Name).Members;

            foreach (var form in forms)
            {
                string currentParams = this.Config.ServiceModel.Customizations.SimpleMethodsModel.GetSimpleParameters(form, members);
                var docMembers = this.Config.ServiceModel.Customizations.SimpleMethodsModel.GetFormMembers(form, members);

        this.FormatOperationDocumentation(operation, docMembers, isSync);
        if (isSync)
        {
					if(operation.IsDeprecated)
					{

        
        #line default
        #line hidden
        
        #line 545 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\t\t[Obsolete(\"");

        
        #line default
        #line hidden
        
        #line 546 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.DeprecationMessage));

        
        #line default
        #line hidden
        
        #line 546 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\")]\r\n");

        
        #line default
        #line hidden
        
        #line 547 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
		
					}

        
        #line default
        #line hidden
        
        #line 549 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        ");

        
        #line default
        #line hidden
        
        #line 550 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 550 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("Response ");

        
        #line default
        #line hidden
        
        #line 550 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 550 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("(");

        
        #line default
        #line hidden
        
        #line 550 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(currentParams));

        
        #line default
        #line hidden
        
        #line 550 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(");\r\n");

        
        #line default
        #line hidden
        
        #line 551 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        }
        else
        {
            if (!string.IsNullOrEmpty(currentParams))
                currentParams += ", ";
				if(operation.IsDeprecated)
				{

        
        #line default
        #line hidden
        
        #line 559 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\t\t[Obsolete(\"");

        
        #line default
        #line hidden
        
        #line 560 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.DeprecationMessage));

        
        #line default
        #line hidden
        
        #line 560 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\")]\r\n");

        
        #line default
        #line hidden
        
        #line 561 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
		
				}

        
        #line default
        #line hidden
        
        #line 563 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        Task<");

        
        #line default
        #line hidden
        
        #line 564 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 564 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("Response> ");

        
        #line default
        #line hidden
        
        #line 564 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(operation.Name));

        
        #line default
        #line hidden
        
        #line 564 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("Async(");

        
        #line default
        #line hidden
        
        #line 564 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(currentParams));

        
        #line default
        #line hidden
        
        #line 564 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("System.Threading.CancellationToken cancellationToken = default(CancellationToken)" +
        ");\r\n");

        
        #line default
        #line hidden
        
        #line 565 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

          }
                }
        }
      }

        
        #line default
        #line hidden
        
        #line 572 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    // Generates constructors for operation requests that have request members in the parameters for easy creation of requests
    // Only generates them if they are specified in the customizations of the service
    public void AddSimpleRequestConstructors(string className, Shape structure, string nameSpace)
    {
        if (this.Config.ServiceModel.Customizations.SimpleConstructorsModel.CreateSimpleConstructors(className))
        {
            var forms = this.Config.ServiceModel.Customizations.SimpleConstructorsModel.SimpleConstructors[className].Forms;
            var members = structure.Members;

        
        #line default
        #line hidden
        
        #line 581 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        /// <summary>\r\n        /// Empty constructor used to set  properties inde" +
        "pendently even when a simple constructor is available\r\n        /// </summary>\r\n " +
        "       public ");

        
        #line default
        #line hidden
        
        #line 584 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(className));

        
        #line default
        #line hidden
        
        #line 584 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("() { }\r\n\r\n");

        
        #line default
        #line hidden
        
        #line 586 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

            foreach (var form in forms)
            {
                string currentParams = this.Config.ServiceModel.Customizations.SimpleConstructorsModel.GetSimpleParameters(form, members);
                var docMembers = this.Config.ServiceModel.Customizations.SimpleConstructorsModel.GetFormMembers(form, members);

        
        #line default
        #line hidden
        
        #line 592 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
 FormatSimpleConstructorDocumentation(className, docMembers); 
        
        #line default
        #line hidden
        
        #line 592 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        public ");

        
        #line default
        #line hidden
        
        #line 593 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(className));

        
        #line default
        #line hidden
        
        #line 593 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("(");

        
        #line default
        #line hidden
        
        #line 593 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(currentParams));

        
        #line default
        #line hidden
        
        #line 593 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(")\r\n        {\r\n");

        
        #line default
        #line hidden
        
        #line 595 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

foreach (var member in docMembers)
{

        
        #line default
        #line hidden
        
        #line 598 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("            ");

        
        #line default
        #line hidden
        
        #line 599 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.VariableName));

        
        #line default
        #line hidden
        
        #line 599 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(" = ");

        
        #line default
        #line hidden
        
        #line 599 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(GeneratorHelpers.CamelCaseParam(member.PropertyName)));

        
        #line default
        #line hidden
        
        #line 599 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(";\r\n");

        
        #line default
        #line hidden
        
        #line 600 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

        
}

        
        #line default
        #line hidden
        
        #line 603 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("        }\r\n\r\n");

        
        #line default
        #line hidden
        
        #line 606 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

            }
        }
    }

        
        #line default
        #line hidden
        
        #line 611 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

	protected void WriteInjectXmlUnmarshallCode(Member member, int level)
	{
		if (this.Config.ServiceModel.Customizations.TryGetPropertyModifier(member.OwningShape.Name, member.ModeledName, out var modifier))
		{
			foreach (var code in modifier.InjectXmlUnmarshallCode)
			{

        
        #line default
        #line hidden
        
        #line 619 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 619 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(code));

        
        #line default
        #line hidden
        
        #line 619 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\r\n");

        
        #line default
        #line hidden
        
        #line 620 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

			}
		}
	}

        
        #line default
        #line hidden
        
        #line 625 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"

    // writes injected xml code. Call this when you know that the property modifier exists.
    protected void WriteInjectXmlCode(HashSet<string> codeArray, int level)
    {
        foreach (var code in codeArray)
        {

        
        #line default
        #line hidden
        
        #line 632 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(new string(' ', level * 4)));

        
        #line default
        #line hidden
        
        #line 632 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(code));

        
        #line default
        #line hidden
        
        #line 632 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
this.Write("\r\n");

        
        #line default
        #line hidden
        
        #line 633 "C:\Dev\Repos\aws-sdk-net-staging\generator\ServiceClientGeneratorLib\Generators\BaseGenerator.tt"
      
        }
    }

        
        #line default
        #line hidden
    }
    
    #line default
    #line hidden
    #region Base class
    /// <summary>
    /// Base class for this transformation
    /// </summary>
    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("Microsoft.VisualStudio.TextTemplating", "17.0.0.0")]
    public class BaseGeneratorBase
    {
        #region Fields
        private global::System.Text.StringBuilder generationEnvironmentField;
        private global::System.CodeDom.Compiler.CompilerErrorCollection errorsField;
        private global::System.Collections.Generic.List<int> indentLengthsField;
        private string currentIndentField = "";
        private bool endsWithNewline;
        private global::System.Collections.Generic.IDictionary<string, object> sessionField;
        #endregion
        #region Properties
        /// <summary>
        /// The string builder that generation-time code is using to assemble generated output
        /// </summary>
        public System.Text.StringBuilder GenerationEnvironment
        {
            get
            {
                if ((this.generationEnvironmentField == null))
                {
                    this.generationEnvironmentField = new global::System.Text.StringBuilder();
                }
                return this.generationEnvironmentField;
            }
            set
            {
                this.generationEnvironmentField = value;
            }
        }
        /// <summary>
        /// The error collection for the generation process
        /// </summary>
        public System.CodeDom.Compiler.CompilerErrorCollection Errors
        {
            get
            {
                if ((this.errorsField == null))
                {
                    this.errorsField = new global::System.CodeDom.Compiler.CompilerErrorCollection();
                }
                return this.errorsField;
            }
        }
        /// <summary>
        /// A list of the lengths of each indent that was added with PushIndent
        /// </summary>
        private System.Collections.Generic.List<int> indentLengths
        {
            get
            {
                if ((this.indentLengthsField == null))
                {
                    this.indentLengthsField = new global::System.Collections.Generic.List<int>();
                }
                return this.indentLengthsField;
            }
        }
        /// <summary>
        /// Gets the current indent we use when adding lines to the output
        /// </summary>
        public string CurrentIndent
        {
            get
            {
                return this.currentIndentField;
            }
        }
        /// <summary>
        /// Current transformation session
        /// </summary>
        public virtual global::System.Collections.Generic.IDictionary<string, object> Session
        {
            get
            {
                return this.sessionField;
            }
            set
            {
                this.sessionField = value;
            }
        }
        #endregion
        #region Transform-time helpers
        /// <summary>
        /// Write text directly into the generated output
        /// </summary>
        public void Write(string textToAppend)
        {
            if (string.IsNullOrEmpty(textToAppend))
            {
                return;
            }
            // If we're starting off, or if the previous text ended with a newline,
            // we have to append the current indent first.
            if (((this.GenerationEnvironment.Length == 0) 
                        || this.endsWithNewline))
            {
                this.GenerationEnvironment.Append(this.currentIndentField);
                this.endsWithNewline = false;
            }
            // Check if the current text ends with a newline
            if (textToAppend.EndsWith(global::System.Environment.NewLine, global::System.StringComparison.CurrentCulture))
            {
                this.endsWithNewline = true;
            }
            // This is an optimization. If the current indent is "", then we don't have to do any
            // of the more complex stuff further down.
            if ((this.currentIndentField.Length == 0))
            {
                this.GenerationEnvironment.Append(textToAppend);
                return;
            }
            // Everywhere there is a newline in the text, add an indent after it
            textToAppend = textToAppend.Replace(global::System.Environment.NewLine, (global::System.Environment.NewLine + this.currentIndentField));
            // If the text ends with a newline, then we should strip off the indent added at the very end
            // because the appropriate indent will be added when the next time Write() is called
            if (this.endsWithNewline)
            {
                this.GenerationEnvironment.Append(textToAppend, 0, (textToAppend.Length - this.currentIndentField.Length));
            }
            else
            {
                this.GenerationEnvironment.Append(textToAppend);
            }
        }
        /// <summary>
        /// Write text directly into the generated output
        /// </summary>
        public void WriteLine(string textToAppend)
        {
            this.Write(textToAppend);
            this.GenerationEnvironment.AppendLine();
            this.endsWithNewline = true;
        }
        /// <summary>
        /// Write formatted text directly into the generated output
        /// </summary>
        public void Write(string format, params object[] args)
        {
            this.Write(string.Format(global::System.Globalization.CultureInfo.CurrentCulture, format, args));
        }
        /// <summary>
        /// Write formatted text directly into the generated output
        /// </summary>
        public void WriteLine(string format, params object[] args)
        {
            this.WriteLine(string.Format(global::System.Globalization.CultureInfo.CurrentCulture, format, args));
        }
        /// <summary>
        /// Raise an error
        /// </summary>
        public void Error(string message)
        {
            System.CodeDom.Compiler.CompilerError error = new global::System.CodeDom.Compiler.CompilerError();
            error.ErrorText = message;
            this.Errors.Add(error);
        }
        /// <summary>
        /// Raise a warning
        /// </summary>
        public void Warning(string message)
        {
            System.CodeDom.Compiler.CompilerError error = new global::System.CodeDom.Compiler.CompilerError();
            error.ErrorText = message;
            error.IsWarning = true;
            this.Errors.Add(error);
        }
        /// <summary>
        /// Increase the indent
        /// </summary>
        public void PushIndent(string indent)
        {
            if ((indent == null))
            {
                throw new global::System.ArgumentNullException("indent");
            }
            this.currentIndentField = (this.currentIndentField + indent);
            this.indentLengths.Add(indent.Length);
        }
        /// <summary>
        /// Remove the last indent that was added with PushIndent
        /// </summary>
        public string PopIndent()
        {
            string returnValue = "";
            if ((this.indentLengths.Count > 0))
            {
                int indentLength = this.indentLengths[(this.indentLengths.Count - 1)];
                this.indentLengths.RemoveAt((this.indentLengths.Count - 1));
                if ((indentLength > 0))
                {
                    returnValue = this.currentIndentField.Substring((this.currentIndentField.Length - indentLength));
                    this.currentIndentField = this.currentIndentField.Remove((this.currentIndentField.Length - indentLength));
                }
            }
            return returnValue;
        }
        /// <summary>
        /// Remove any indentation
        /// </summary>
        public void ClearIndent()
        {
            this.indentLengths.Clear();
            this.currentIndentField = "";
        }
        #endregion
        #region ToString Helpers
        /// <summary>
        /// Utility class to produce culture-oriented representation of an object as a string.
        /// </summary>
        public class ToStringInstanceHelper
        {
            private System.IFormatProvider formatProviderField  = global::System.Globalization.CultureInfo.InvariantCulture;
            /// <summary>
            /// Gets or sets format provider to be used by ToStringWithCulture method.
            /// </summary>
            public System.IFormatProvider FormatProvider
            {
                get
                {
                    return this.formatProviderField ;
                }
                set
                {
                    if ((value != null))
                    {
                        this.formatProviderField  = value;
                    }
                }
            }
            /// <summary>
            /// This is called from the compile/run appdomain to convert objects within an expression block to a string
            /// </summary>
            public string ToStringWithCulture(object objectToConvert)
            {
                if ((objectToConvert == null))
                {
                    throw new global::System.ArgumentNullException("objectToConvert");
                }
                System.Type t = objectToConvert.GetType();
                System.Reflection.MethodInfo method = t.GetMethod("ToString", new System.Type[] {
                            typeof(System.IFormatProvider)});
                if ((method == null))
                {
                    return objectToConvert.ToString();
                }
                else
                {
                    return ((string)(method.Invoke(objectToConvert, new object[] {
                                this.formatProviderField })));
                }
            }
        }
        private ToStringInstanceHelper toStringHelperField = new ToStringInstanceHelper();
        /// <summary>
        /// Helper to produce culture-oriented representation of an object as a string
        /// </summary>
        public ToStringInstanceHelper ToStringHelper
        {
            get
            {
                return this.toStringHelperField;
            }
        }
        #endregion
    }
    #endregion
}
